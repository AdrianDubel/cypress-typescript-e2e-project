name: Cypress Tests
on: [push]
jobs:
 Cypress-Test:
   runs-on: ubuntu-latest
   
   steps:
     - name: Checkout GitCode
       uses: actions/checkout@v2
 
     - name: Install dependencies
       run: npm install

     - name: Start Local Server
       run: |
         npx http-server -p 9000 &
         sleep 2 # Poczekaj chwilÄ™ na uruchomienie serwera

    
     - name: Add credentials
       with: # Set the secret as an input
        username: ${{ secrets.CYPRESS_USERNAME }}
        password: ${{ secrets.CYPRESS_PASSWORD }}
        #  env: # Or as an environment variable
        #  super_secret: ${{ secrets.SuperSecret }}

     - name: Run Cypress Test
       uses: cypress-io/github-action@v4
       with:
         command: npx cypress run --browser chrome 